<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>M PRIME | النظام المتكامل</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        :root { --m-red: #dc2626; --m-bg: #f8fafc; --m-white: #ffffff; --m-text: #0f172a; --m-gray: #64748b; }
        body { margin: 0; font-family: 'Cairo', sans-serif; background-color: var(--m-bg); color: var(--m-text); padding-bottom: 90px; padding-top: 20px; }
        .container { padding: 15px; display: none; animation: fadeIn 0.3s; }
        .container.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* ستايل المستطيلات الستة - الرئيسية */
        .rect-large { background: var(--m-red); color: white; padding: 25px; border-radius: 18px; text-align: center; margin-bottom: 12px; box-shadow: 0 8px 20px rgba(220, 38, 38, 0.15); font-weight: 900; }
        .rect-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 12px; }
        .rect-small { background: var(--m-white); padding: 20px; border-radius: 18px; text-align: center; border: 1px solid #e2e8f0; font-weight: 700; color: var(--m-gray); }

        /* ستايل صفحة المنتجات */
        .product-card { background: white; border-radius: 20px; border: 1px solid #e2e8f0; overflow: hidden; margin-bottom: 5px; }
        .product-img { height: 120px; background: #f1f5f9; display: flex; align-items: center; justify-content: center; }
        .product-info { padding: 10px; }
        .stock-status { font-size: 11px; padding: 3px 8px; border-radius: 6px; background: #ecfdf5; color: #059669; font-weight: 800; display: inline-block; }

        /* البار السفلي */
        .bottom-nav { position: fixed; bottom: 0; left: 0; right: 0; background: white; height: 80px; display: flex; justify-content: space-around; align-items: center; border-top: 1px solid #e2e8f0; z-index: 2000; }
        .nav-tab { display: flex; flex-direction: column; align-items: center; color: var(--m-gray); text-decoration: none; font-size: 12px; font-weight: 800; flex: 1; cursor: pointer; }
        .nav-tab.active { color: var(--m-red); }
        .nav-tab i { font-size: 22px; margin-bottom: 4px; }
    </style>
</head>
<body>

    <main id="home-page" class="container active">
        <div class="rect-large">بيانات قابلة للتخصيص 1</div>
        <div class="rect-grid">
            <div class="rect-small">مستطيل 2</div>
            <div class="rect-small">مستطيل 3</div>
        </div>
        <div class="rect-large" style="background: #ef4444;">بيانات قابلة للتخصيص 4</div>
        <div class="rect-grid">
            <div class="rect-small">مستطيل 5</div>
            <div class="rect-small">مستطيل 6</div>
        </div>
    </main>

        <main id="products-page" class="container" style="padding-bottom: 80px;">
        
        <div class="product-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
            <div class="product-card">
                <div class="product-img"><i class="fa-solid fa-image" style="color:#cbd5e1; font-size: 30px;"></i></div>
                <div class="product-info"><b>عطر برايم</b><br><span style="color:var(--m-red)">250 ر.س</span><br><div class="stock-status">متوفر</div></div>
            </div>
            <div class="product-card">
                <div class="product-img"><i class="fa-solid fa-image" style="color:#cbd5e1; font-size: 30px;"></i></div>
                <div class="product-info"><b>بخور ملكي</b><br><span style="color:var(--m-red)">180 ر.س</span><br><div class="stock-status">متوفر</div></div>
            </div>
            <div class="product-card">
                <div class="product-img"><i class="fa-solid fa-image" style="color:#cbd5e1; font-size: 30px;"></i></div>
                <div class="product-info"><b>منتج إضافي</b><br><span style="color:var(--m-red)">100 ر.س</span><br><div class="stock-status">متوفر</div></div>
            </div>
        </div>

        <div style="position: fixed; bottom: 95px; left: 15px; right: 15px; background: var(--m-red); color: white; padding: 12px; border-radius: 12px; text-align: center; box-shadow: 0 4px 15px rgba(220, 38, 38, 0.3); cursor: pointer; z-index: 1500; font-weight: 900; font-size: 15px; display: flex; align-items: center; justify-content: center; gap: 8px;">
            <i class="fa-solid fa-sliders" style="font-size: 16px;"></i>
            إدارة المنتجات
        </div>
    </main>


    <nav class="bottom-nav">
        <div class="nav-tab active" onclick="showP('home', this)"><i class="fa-solid fa-house"></i><span>الرئيسية</span></div>
        <div class="nav-tab" onclick="showP('products', this)"><i class="fa-solid fa-box-archive"></i><span>المنتجات</span></div>
        <div class="nav-tab" style="opacity:0.2;"><i class="fa-solid fa-ellipsis"></i><span>قريباً</span></div>
        <div class="nav-tab"><i class="fa-solid fa-receipt"></i><span>الطلبات</span></div>
        <div class="nav-tab"><i class="fa-solid fa-gear"></i><span>الإعدادات</span></div>
    </nav>

    <script>
    // وظيفة لإظهار الصفحة وحفظ مكانها في ذاكرة المتصفح
    function showP(pId, el) {
        // إخفاء كل الصفحات
        document.querySelectorAll('.container').forEach(p => p.classList.remove('active'));
        // إظهار الصفحة المختارة
        document.getElementById(pId + '-page').classList.add('active');
        // تحديث الأيقونات النشطة
        document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
        el.classList.add('active');
        
        // حفظ الصفحة الحالية في الذاكرة
        localStorage.setItem('lastPage', pId);
    }

    // عند تحميل الصفحة من جديد (بعد السحب للتحديث)
    window.onload = function() {
        const lastPage = localStorage.getItem('lastPage');
        if (lastPage) {
            // ابحث عن التبويب (Tab) المناسب في البار السفلي
            const tabs = document.querySelectorAll('.nav-tab');
            let targetTab;
            if (lastPage === 'home') targetTab = tabs[0];
            else if (lastPage === 'products') targetTab = tabs[1];
            
            if (targetTab) {
                showP(lastPage, targetTab);
            }
        }
    }
</script>

</body>
</html>
